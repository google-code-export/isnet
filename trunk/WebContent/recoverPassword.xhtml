<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	 xmlns:ui="http://java.sun.com/jsf/facelets"
	 xmlns:h="http://java.sun.com/jsf/html"
	 xmlns:f="http://java.sun.com/jsf/core"
	 xmlns:a4j="http://richfaces.org/a4j"
 	xmlns:c="http://java.sun.com/jstl/core"
 	xmlns:rich="http://richfaces.org/rich">

	<ui:composition template="/templates/basictemplate.xhtml">
	<ui:param name="moduleTitle" value="#{bundle.page_title_password_recovery}"></ui:param>
 		<ui:param name="userType" value="Public">
 	</ui:param>

	<ui:define name="body">
	<h:panelGrid columns="3" columnClasses="reg_page_column1,reg_page_column2,reg_page_column3" width="100%">
					<h:outputText value="" />
					<h:panelGroup>
					<rich:panel style="width:'auto'"  id="idPanelContainer" headerClass="panel_header" bodyClass="panel_content_body" styleClass="content_panel">
						<f:facet name="header">
							<h:outputLabel id="idHeaderMessage" >
							  	<h:outputText    value="#{bundle.password_recovery_page_header}"/>
							</h:outputLabel>
						</f:facet>
						
						<h:dataTable rendered="#{passRecViewHandler.hasError}" value="#{passRecViewHandler.errMsgs}" var="msg" width="100%" columnClasses="error_panel_left_col,error_panel_right_col">
						   <f:facet name="header">	<h:outputText  value="#{bundle.member_validation_header}"/> </f:facet>
							<h:column >
								<h:graphicImage value="/images/error2.png" boder="0" style="margin-top: 3px;"/>					
							</h:column>
							<h:column >
							 <h:outputText  value="#{msg}"/>
							</h:column>
						
						</h:dataTable>
						<h:panelGrid columns="1" width="100%" columnClasses="column_class_center">
							<h:outputLabel id="idSuccessMessageBox">
								  <h:outputText value="#{passRecViewHandler.successMessage}"/>
							</h:outputLabel>						
						</h:panelGrid>
						<h:panelGrid  columns="2" columnClasses="internal_content_grid_column1,internal_content_grid_column2" width="100%">

							<h:outputLabel >
								  <h:outputText value="#{bundle.password_recovery_email}"/> <h:outputText styleClass="required_field" value="*" />
							</h:outputLabel>	
							<h:inputText  id="idEmailAddress" value="#{passRecViewHandler.email}" styleClass="form_input_text_medium"/>

							<h:outputLabel>
								  <h:outputText value="#{bundle.password_recovery_question1}"/><h:outputText styleClass="required_field" value="*" />
							</h:outputLabel>
							<h:selectOneMenu value="#{passRecViewHandler.question1Id}"  styleClass="form_input_text_medium"> 
								<f:selectItems value="#{passRecViewHandler.questionList1}"/>
							</h:selectOneMenu>	
															
							<h:outputLabel >
								  <h:outputText value="#{bundle.password_recovery_question1_ans}"/><h:outputText styleClass="required_field" value="" />
							</h:outputLabel>
							<h:inputText  id="idQestionAns1" value="#{passRecViewHandler.question1Ans}" styleClass="form_input_text_medium"/>
							
							<h:outputLabel>
								  <h:outputText value="#{bundle.password_recovery_question2}"/><h:outputText styleClass="required_field" value="*" />
							</h:outputLabel>
							<h:selectOneMenu value="#{passRecViewHandler.question2Id}"  styleClass="form_input_text_medium"> 
								<f:selectItems value="#{passRecViewHandler.questionList2}"/>
							</h:selectOneMenu>
							
							<h:outputLabel>
								  <h:outputText value="#{bundle.password_recovery_question2_ans}"/><h:outputText styleClass="required_field" value="" />
							</h:outputLabel>
							<h:inputText  id="idQestionAns2" value="#{passRecViewHandler.question2Ans}" styleClass="form_input_text_medium"/>
																	
						</h:panelGrid>
						

				</rich:panel>
				
				<rich:panel id="actionBox" bodyClass="panel_content_body">
						<h:panelGrid columns="1" columnClasses="column_class_center" width="100%">
							<h:panelGroup>
								<a4j:commandButton onclick="forceBlockUI(ajaxWaitMsg);"   oncomplete="forceUnblockUI();" action="#{passRecViewHandler.recoverMyPassword}" value="#{bundle.password_recovery_confirm}" reRender="idPanelContainer" />
								<rich:spacer width="10"></rich:spacer>	
								<h:commandButton action="#{navigationBean.backToLogin}"  value="#{bundle.common_label_back}"  />								
							</h:panelGroup>		
						</h:panelGrid>				
				</rich:panel>							
				</h:panelGroup>
				<h:outputText value="" />			
	</h:panelGrid>	   
  </ui:define>
   	
	</ui:composition>

</html>