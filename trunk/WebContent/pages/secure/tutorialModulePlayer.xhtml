<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:a4j="http://richfaces.org/a4j"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:rich="http://richfaces.org/rich"      
  xmlns:ui="http://java.sun.com/jsf/facelets">
  <head>
    <title><ui:insert name="pageTitle">Online Tutorial</ui:insert></title>
		<style type="text/css">
		  body {
				  font-family: Verdana, Arial, Helvetica, sans-serif;
				  font-size: 14px;
			}
			.header {
				  font-family: Verdana, Arial, Helvetica, sans-serif;
				  font-size: 18px;
			}
			.bottom {
				  font-family: Verdana, Arial, Helvetica, sans-serif;
				  font-size: 9px;
				  text-align: center;
				  vertical-align: middle;
				  color: #8E969D;
			}
      .radioright td {
        text-align: left;
      }
      .radioright td input {
        float: left;
      }
      .ibutton{ border: 1px solid #152a4d; background-color: #c6d3dc; font-size: 9pt; font-weight: bold;
          color: #11358B; padding-top:2px; padding-bottom:2px; padding-left:5px; padding-right:5px;}
      
      .prompt{font-size: 9pt; font-weight: normal; color: #375e9f;
      padding-left: 10px;text-align: left; vertical-align: middle;}
      
      .note{font-size: 9pt; font-weight: normal; color: red; font-style:italic;
        padding-left: 10px;text-align: left; vertical-align: middle;}
      
      .tutorial_container {        
        text-align:center;
        background-color:#efefef;
        text-align:center;        
      }
      .quBody {
        text-align: left;
      } 
      .qaHeader {
        .padding-left: 5px;
        text-align: left;
      }
      .dr-pnl{
        background-color:#FFFFFF;
        border:0px;
        border-color:#EFEFEF;
        border-style:solid;
        border-width:0px;
        padding:0px;
        margin:0px;
      }
      .dr-pnl-b {
       padding:0px;
       margin:0px;
       border:0px; 
      }
      .rich-panel-body {
        border:0px;
        border-color:#EFEFEF;
        border-style:solid;
        border-width:0px;
        padding:0px;
        margin:0px;
      }       
		</style>
    <a4j:loadScript src="/js/flowplayer-3.1.4.min.js" />
    <script type="text/javascript" >
      function enabledButton(){
        var nextBtn = document.getElementById("idTModuleForm:idNext");
        var lastBtn = document.getElementById("idTModuleForm:idLast");
        if ( nextBtn ) nextBtn.disabled = false;
        if ( lastBtn ) lastBtn.disabled = false;
      }                  
    </script>
	</head>

  <body bgcolor="#ffffff">
  <h:form id="idTModuleForm">
    <h:inputHidden value="#{modulePlayer.initPage}" />
    <table style="border:0px solid #CAD6E0"  align="center" cellpadding="0" 
      cellspacing="0" border="0">
    <tbody>
    	<h:panelGroup rendered="#{!modulePlayer.notEndPlay or modulePlayer.hasQuestionAns}">
        <tr>
      		<td class="header" height="42" align="center" valign="middle" width="100%" bgcolor="#E4EBEB">
      			<h:graphicImage value="/images/tutorial_title.png" />
      		</td>
      	</tr>
      </h:panelGroup>    	
    	<tr>
    		<td width="100%"  colspan="2">
    			<table width="100%" style="border:0px solid white;" align="center" cellpadding="0" cellspacing="0" 
            border="0">
    			<tbody>
    				<tr>
    					<td align="center" width="100%" valign="middle">
    					<rich:panel id="idContainer" rendered="#{!modulePlayer.hasQuestionAns}">
    						<f:facet name="header">              
                  <h:panelGroup rendered="#{!modulePlayer.notEndPlay}">
                    <h:outputText style="font-size: 11pt; font-weight: bold;" value="Tutorial" />
                  </h:panelGroup> 
                </f:facet>
                <h:panelGroup rendered="#{!modulePlayer.notEndPlay}">
                  <table cellpadding="0" cellspacing="0" border="0" align="center">
                    <colgroup>
                      <col width="30%"/>
                      <col width="50%"/>
                    </colgroup>
                    <tr>
                      <td colspan="2" style="font-size: 9pt; font-weight: bold; color: #375e9f;
                          padding-left: 10px;text-align: center;">                        
                        End of tutorial module.
                        <rich:spacer width="100%" height="20"/>
                      </td>
                    </tr>                  
                  </table>
                </h:panelGroup>                   
                <h:panelGroup rendered="#{modulePlayer.notEndPlay}">
                  <div class="tutorial_container">
                    <a href="#{controllerBean.contextPath}/#{modulePlayer.flashSlidePath}"
                       style="display:block;width:800px;height:600px;background-color: white;background: white;" id="player">
                    </a>
                    <script>
                      flowplayer("player", { 
                        src: "#{controllerBean.contextPath}/#{modulePlayer.flashSlidePath}", bgcolor: "#ffffff" 
                      },
                      { 
                        // player config 
                      });   
                    </script>
                  </div>
    						</h:panelGroup>
    					</rich:panel>
              <h:panelGroup rendered="#{modulePlayer.hasQuestionAns}">
      					<rich:panel id="idQuestionPanel" rendered="#{modulePlayer.notEndPlay}" 
                  headerClass="qaHeader"  bodyClass="quBody">
      						<f:facet name="header"><h:outputText value="#{modulePlayer.currentPage.question}" /> </f:facet>
      						<h:message showSummary="true" showDetail="false" style="color: red; font-weight: bold;" for="idQuestion" />
      						<h:selectOneRadio id="idQuestion" required="true" requiredMessage="You should select one option" styleClass="radioright" layout="pageDirection" value="#{modulePlayer.currentPage.examineeAns}">
      						  <f:selectItem itemLabel="#{modulePlayer.currentPage.questionOptionAnswerA}" itemValue="A" />
      						  <f:selectItem itemLabel="#{modulePlayer.currentPage.questionOptionAnswerB}" itemValue="B" />
      						  <f:selectItem itemLabel="#{modulePlayer.currentPage.questionOptionAnswerC}" itemValue="C" />
      						  <f:selectItem itemLabel="#{modulePlayer.currentPage.questionOptionAnswerD}" itemValue="D" />
      						  <f:selectItem itemLabel="#{modulePlayer.currentPage.questionOptionAnswerE}" itemValue="E" />
      						  <f:selectItem itemLabel="#{modulePlayer.currentPage.questionOptionAnswerF}" itemValue="F" />
      						</h:selectOneRadio>						
      					</rich:panel>
                
                <rich:panel id="idResultPanel" rendered="#{!modulePlayer.notEndPlay}"> 
                  <f:facet name="header">
                    <h:outputText style="font-size: 11pt; font-weight: bold;" value="Test Result" /> 
                  </f:facet>
                  <table cellpadding="0" cellspacing="0" border="0" align="center">
                    <colgroup>
                      <col width="30%"/>
                      <col width="50%"/>
                    </colgroup>
                    <tr>
                      <td colspan="2" class="prompt">
                        Your module test summary as follows:
                      </td>
                    </tr>
                    <tr>
                      <td class="prompt">
                        <h:outputText value="Number of question" />
                      </td>                  
                      <td class="prompt">
                        <h:outputText value="#{modulePlayer.noOfQuestion}" />
                      </td>
                    </tr>
                    
                    <tr>
                      <td class="prompt">
                        <h:outputText value="Number of correct answer" />
                      </td>                  
                      <td class="prompt">
                        <h:outputText value="#{modulePlayer.noOfCorrectAns}" />
                      </td>
                    </tr>
                    
                    <tr>
                      <td class="prompt">
                        <h:outputText value="Total marks" />
                      </td>                  
                      <td class="prompt">
                        <h:outputText value="#{modulePlayer.perOfMarks}" />
                      </td>
                    </tr>
                    
                    <tr>
                      <td class="prompt">
                        <h:outputText value="Status" />
                      </td>                  
                      <td class="prompt">
                        <h:outputText value="#{modulePlayer.passStatus}" />
                      </td>
                    </tr>
                    <tr>
                      <td colspan="2">
                        &#160;
                      </td>
                     </tr>
                    <tr>
                      <td colspan="2" class="note">
                        <h:outputText value="Note: An email has been sent to your account with details test result." />
                      </td>                  
                    </tr>
                    <tr>
                      <td colspan="2">
                        &#160;
                      </td>
                     </tr>                     
                  </table>            
                </rich:panel>
                
               </h:panelGroup>
    					</td>
    				</tr>
    			</tbody>
    			</table>
    		</td>
    	</tr>	
    	
    	<tr>
    	 <td colspan="2" align="center"  valign="bottom" height="1" width="100%" bgcolor="#FFF7DF">           
    		<h:panelGroup id="idAction">
        <table>
    			<tr>
    				<td>
    					<h:commandButton action="#{modulePlayer.playFirstPage}" value="First"
                rendered="#{!modulePlayer.hasQuestionAns and modulePlayer.notEndPlay}" styleClass="ibutton"
                title = "First page">						
    					</h:commandButton>
    				
    				</td>
    				<td>
    					<h:commandButton action="#{modulePlayer.playPreviousPage}" value="Previous"
                rendered="#{!modulePlayer.hasQuestionAns and modulePlayer.notEndPlay}" styleClass="ibutton"
                title="Previous page">					
    					</h:commandButton>
    				</td>          
    				<td>
    					<h:commandButton id="idNext" action="#{modulePlayer.playNextPage}" value="Next" 
                disabled="#{modulePlayer.disabledNext}" 
                rendered="#{modulePlayer.notEndPlay}" styleClass="ibutton" title="Next page">						
    					</h:commandButton>				
    				</td>
            
    				<td>
    					<h:commandButton id="idLast" action="#{modulePlayer.playLastPage}" value="Last"
                disabled="#{modulePlayer.disabledLast}" 
                rendered="#{!modulePlayer.hasQuestionAns and modulePlayer.notEndPlay}" styleClass="ibutton"
                title="Last viewed page in the proper timeout order">
    					</h:commandButton>				
    				</td>
            
            <td>
              <h:commandButton id="idClose" value="Close" onclick="javascript:window.close();" type="ibutton"
                styleClass="ibutton" rendered="#{!modulePlayer.notEndPlay}" title="Close tutorial">
              </h:commandButton>        
            </td>
            
    			</tr>
    		</table>
    		</h:panelGroup>
    		</td>
    	</tr>
    </tbody>
    </table>
  </h:form>
  <script type="text/javascript" >
    setTimeout("enabledButton();",10000);
  </script>
  </body>		
</html>