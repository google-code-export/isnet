<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	 xmlns:ui="http://java.sun.com/jsf/facelets"
	 xmlns:h="http://java.sun.com/jsf/html"
	 xmlns:f="http://java.sun.com/jsf/core"
	 xmlns:a4j="http://richfaces.org/a4j"
 	xmlns:c="http://java.sun.com/jstl/core"
 	xmlns:rich="http://richfaces.org/rich">

	<ui:composition template="/templates/basictemplate.xhtml">
	<ui:param name="moduleTitle" value="#{bundle.dashboard_mentor_page_title}"></ui:param>
 		<ui:param name="userType" value="M"/>
 		<ui:param name="moduleType" value="MH"/>
	<ui:define name="body">
		<h:panelGrid columns="2" cellpadding="0" cellspacing="0" border="0" columnClasses="dashboard_page_column1,dashboard_page_column2" width="100%">
			
			<ui:include src="./sections/mentor_dashboard_left.xhtml" />
								
			<h:panelGrid columns="1" width="100%" cellpadding="0" cellspacing="0">
				<rich:panel style="width:'auto';margin-top: 3px;" headerClass="container_silver_header"  bodyClass="container_body_style" >
					<f:facet name="header"><h:outputText value="#{bundle.dashboard_mentor_greeting} #{dashboardViewHandler.member.firstName} #{dashboardViewHandler.member.lastName}" /></f:facet>			
				</rich:panel>
				
			<h:panelGrid border="0" columns="2" width="100%" cellpadding="0" cellspacing="0" columnClasses="dashboard_conent_grid_column1,dashboard_conent_grid_column2">
				<h:panelGrid columns="1" width="100%" border="0" cellpadding="0" cellspacing="0">
					<rich:panel style="width:'auto';margin-top: 0px;" headerClass="container_gold_header"  bodyClass="container_body_style" >
						<f:facet name="header"><h:outputText value="#{bundle.dashboard_mentor_new_protege_request}" /></f:facet>
						<h:dataTable id="idRequestGrid" border="0" value="#{dashboardViewHandler.pendingRequests}" var="log" 
					    columnClasses="column_class_center,,column_class_right"	cellpadding="0" cellspacing="0" width="100%">
							<h:column>
								<h:outputText value="#{log.recordCreator.firstName}  #{log.recordCreator.lastName}" />
							</h:column>
							<h:column>
								<h:outputText value="#{bundle.dashboard_mentor_request}" />
							</h:column>
							<h:column>
								<a4j:commandButton action="#{dashboardViewHandler.acceptProtegeRequest}"  value="#{bundle.button_label_accept}" reRender="idRequestGrid">
								 	<a4j:actionparam name="REQUEST_ID" value="#{log.memberLogId}"  />
								</a4j:commandButton>
								<rich:spacer width="3"/> 
								<h:outputText value="#{bundle.or_label}" />
								<rich:spacer width="5"/> 
								<a4j:commandButton  action="#{dashboardViewHandler.rejectProtegeRequest}" value="#{bundle.button_label_deny}" reRender="idRequestGrid" >
									<a4j:actionparam name="REQUEST_ID" value="#{log.memberLogId}"  />
								</a4j:commandButton> 
							</h:column>												
						</h:dataTable>			
					</rich:panel>				
				</h:panelGrid>
				<h:panelGroup>
				<!-- Mentor dashboard right panel -->
				<ui:include src="/pages/secure/sections/mentor_dashboard_right.xhtml" />
				</h:panelGroup>				
			</h:panelGrid>	
			</h:panelGrid>	
				
	</h:panelGrid>	 	   
  </ui:define>
   	
	</ui:composition>

</html>