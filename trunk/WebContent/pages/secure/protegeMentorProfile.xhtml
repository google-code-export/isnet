<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	 xmlns:ui="http://java.sun.com/jsf/facelets"
	 xmlns:h="http://java.sun.com/jsf/html"
	 xmlns:f="http://java.sun.com/jsf/core"
	 xmlns:a4j="http://richfaces.org/a4j"
 	 xmlns:c="http://java.sun.com/jstl/core"
 	 xmlns:rich="http://richfaces.org/rich">

<ui:composition template="/templates/maintmpl.xhtml">
 <ui:param name="moduleTitle" value="#{bundle.left_navigation_protege_mentor_profile}"></ui:param>
 <ui:param name="userType" value="P"></ui:param>
 <ui:param name="moduleType" value="PH"></ui:param>
  <ui:param name="refManageBean" value="#{udvViewHandler}"></ui:param>
 <ui:param name="headerText" value="#{bundle.left_navigation_protege_mentor_profile}"></ui:param>
 

  <ui:define name="body">    
    <h:panelGroup id="idSectionsCon">
      <rich:spacer width="100%" height="5"/>
      <h:panelGroup id="idTopCon">
          <table border="0" cellspacing="0" cellpadding="0" width="98%">
           <tr>
            <td align="right">
		
            </td>
           </tr>
          </table>
          
      </h:panelGroup>
      

		<rich:panel id="idCurrentMentorPanel" headerClass="container_box_panel_header"  bodyClass="container_body_style" >
			<f:facet name="header"><h:outputText value="Current mentor details" /> </f:facet>
			<h:panelGrid columns="1" width="100%" cellpadding="0" cellspacing="0" border="0">
				<rich:dataTable  width="100%" id="idDataGrid"  rowClasses=",container_even_row_style" rows="5" 
			                value="#{protegeProfileViewHandler.protegeCurrentMentor}" var="member" headerClass="table_column_style" cellpadding="0" cellspacing="0">
		             <rich:column>
			             <f:facet name="header">
			                <h:outputText value="#{bundle.protege_search_name}" />
			             </f:facet>
			             <h:panelGroup>
			             	<h:outputText value="#{member.firstName}" /><rich:spacer width="5"/> <h:outputText value="#{member.lastName}" />
			             </h:panelGroup>
				 			
		             </rich:column>
		             <rich:column>
			             <f:facet name="header">
			                 <h:outputText value="#{bundle.member_city}" />
			             </f:facet>
						<h:outputText value="#{member.city}" />
		             </rich:column>	  
		             <rich:column>
			             <f:facet name="header">
			                <h:outputText value="#{bundle.member_state}" />
			             </f:facet>
						<h:outputText value="#{member.stateUDV.udValuesDesc}" />
		             </rich:column>
		             <rich:column >
			             <f:facet name="header">
			               <h:outputText value="#{bundle.member_zip}" />
			             </f:facet>
				 		<h:outputText value="#{member.zip}" />	
		             </rich:column>	  
		             <rich:column>
			             <f:facet name="header">
			               <h:outputText value="#{bundle.member_country}" />
			             </f:facet>
						<h:outputText value="#{member.countryUDV.udValuesDesc}" />
		             </rich:column>	

		             <rich:column>
			             <f:facet name="header">
			               <h:outputText value="#{bundle.protege_search_profile}" />
			             </f:facet>
		         		 <a4j:commandLink  reRender="idmemberInfoDialog" action="#{protegeProfileViewHandler.loadMember}" oncomplete="Richfaces.showModalPanel('idmemberInfoDialog')">
				             <a4j:actionparam name="MEMBER_ID" value="#{member.memberId}"  />
				             <a4j:actionparam name="action" value="VIEW"  />
			            	<h:graphicImage value="/images/member_view.png" align="middle" border="0" > 
			            	</h:graphicImage>	
		            		 <rich:toolTip styleClass="tooltips_style"  >
						          <span class="tooltips_span_style">
						              #{bundle.button_label_view_mentor}<br/>
						          </span>
						     </rich:toolTip>	
						</a4j:commandLink>	             
		             </rich:column>		

		             <rich:column>
			             <f:facet name="header">
			               <h:outputText value="Action" />
			             </f:facet>
		         		 <a4j:commandLink  onclick="forceBlockUI(ajaxProcessMsg);"   oncomplete="forceUnblockUI();" value="#{bundle.button_label_release_mentor}"  reRender="idCurrentMentorPanel,idPreviousMentorPanel" action="#{protegeProfileViewHandler.releaseMentor}" >
				             <a4j:actionparam name="MEMBER_ID" value="#{member.memberId}"  />
		            		 <rich:toolTip styleClass="tooltips_style"  >
						          <span class="tooltips_span_style">
						              #{bundle.button_tooltips_release_from_mentor}<br/>
						          </span>
						     </rich:toolTip>	
						</a4j:commandLink >
		             </rich:column>			             		             	             		             		             
		             		                      	   
			      </rich:dataTable>		
			</h:panelGrid>			         
		</rich:panel>
		
		<rich:panel id="idPreviousMentorPanel" headerClass="container_box_panel_header"  bodyClass="container_body_style" >
			<f:facet name="header"><h:outputText value="Previous mentor details" /> </f:facet>
			<h:panelGrid columns="1" width="100%" cellpadding="0" cellspacing="0" border="0">
				<rich:dataTable  width="100%" id="idDataGrid2"  rowClasses=",container_even_row_style" rows="10" 
			                value="#{protegeProfileViewHandler.previousMentor}" var="member" headerClass="table_column_style" cellpadding="0" cellspacing="0">
		             <rich:column>
			             <f:facet name="header">
			                <h:outputText value="#{bundle.protege_search_name}" />
			             </f:facet>
			             <h:panelGroup>
			             	<h:outputText value="#{member.firstName}" /><rich:spacer width="5"/> <h:outputText value="#{member.lastName}" />
			             </h:panelGroup>
				 			
		             </rich:column>
		             <rich:column>
			             <f:facet name="header">
			                 <h:outputText value="#{bundle.member_city}" />
			             </f:facet>
						<h:outputText value="#{member.city}" />
		             </rich:column>	  
		             <rich:column>
			             <f:facet name="header">
			                <h:outputText value="#{bundle.member_state}" />
			             </f:facet>
						<h:outputText value="#{member.stateUDV.udValuesDesc}" />
		             </rich:column>
		             <rich:column >
			             <f:facet name="header">
			               <h:outputText value="#{bundle.member_zip}" />
			             </f:facet>
				 		<h:outputText value="#{member.zip}" />	
		             </rich:column>	  
		             <rich:column>
			             <f:facet name="header">
			               <h:outputText value="#{bundle.member_country}" />
			             </f:facet>
						<h:outputText value="#{member.countryUDV.udValuesDesc}" />
		             </rich:column>	

		             <rich:column>
			             <f:facet name="header">
			               <h:outputText value="#{bundle.protege_search_profile}" />
			             </f:facet>
		         		 <a4j:commandLink  reRender="idmemberInfoDialog" action="#{protegeProfileViewHandler.loadMember}" oncomplete="Richfaces.showModalPanel('idmemberInfoDialog')">
				             <a4j:actionparam name="MEMBER_ID" value="#{member.memberId}"  />
				             <a4j:actionparam name="action" value="VIEW"  />
			            	<h:graphicImage value="/images/member_view.png" align="middle" border="0" > 
			            	</h:graphicImage>	
		            		 <rich:toolTip styleClass="tooltips_style"  >
						          <span class="tooltips_span_style">
						              #{bundle.button_label_view_mentor}<br/>
						          </span>
						     </rich:toolTip>	
						</a4j:commandLink>			             
		             </rich:column>		
		             		             	             		             		             
		             		                      	   
			      </rich:dataTable>		
		        <rich:datascroller id="idDataScroller2" align="center"  for="idDataGrid2" maxPages="5" />
			</h:panelGrid>			         
		</rich:panel>		
		
		<rich:panel id="idMentorAroundMePanel" headerClass="container_box_panel_header"  bodyClass="container_body_style" >
			<f:facet name="header">
			<h:panelGroup>
				<h:outputText value="List of Mentors in 20 miles radius" /> 
		         <h:outputLink  value="#{controllerBean.contextPath}/pages/secure/mentorSearch.faces">
		           <h:outputText value=" [ Advanced search ] "/>
		         </h:outputLink>				
			</h:panelGroup>
			</f:facet>
			<h:panelGrid columns="1" width="100%" cellpadding="0" cellspacing="0" border="0">
				<rich:dataTable  width="100%" id="idDataGrid3"  rowClasses=",container_even_row_style" rows="10" 
			                value="#{protegeProfileViewHandler.mentorsAraoundProtege}" var="member" headerClass="table_column_style" cellpadding="0" cellspacing="0">
		             <rich:column>
			             <f:facet name="header">
			                <h:outputText value="#{bundle.protege_search_name}" />
			             </f:facet>
			             <h:panelGroup>
			             	<h:outputText value="#{member.firstName}" /><rich:spacer width="5"/> <h:outputText value="#{member.lastName}" />
			             </h:panelGroup>
				 			
		             </rich:column>
		             <rich:column>
			             <f:facet name="header">
			                 <h:outputText value="#{bundle.member_city}" />
			             </f:facet>
						<h:outputText value="#{member.city}" />
		             </rich:column>	  
		             <rich:column>
			             <f:facet name="header">
			                <h:outputText value="#{bundle.member_state}" />
			             </f:facet>
						<h:outputText value="#{member.stateUDV.udValuesDesc}" />
		             </rich:column>
		             <rich:column >
			             <f:facet name="header">
			               <h:outputText value="#{bundle.member_zip}" />
			             </f:facet>
				 		<h:outputText value="#{member.zip}" />	
		             </rich:column>	  
		             <rich:column>
			             <f:facet name="header">
			               <h:outputText value="#{bundle.member_country}" />
			             </f:facet>
						<h:outputText value="#{member.countryUDV.udValuesDesc}" />
		             </rich:column>	

		             <rich:column>
			             <f:facet name="header">
			               <h:outputText value="#{bundle.protege_search_profile}" />
			             </f:facet>
		         		 <a4j:commandLink  reRender="idmemberInfoDialog" action="#{protegeProfileViewHandler.loadMember}" oncomplete="Richfaces.showModalPanel('idmemberInfoDialog')">
				             <a4j:actionparam name="MEMBER_ID" value="#{member.memberId}"  />
				             <a4j:actionparam name="action" value="VIEW"  />
			            	<h:graphicImage value="/images/member_view.png" align="middle" border="0" > 
			            	</h:graphicImage>	
		            		 <rich:toolTip styleClass="tooltips_style"  >
						          <span class="tooltips_span_style">
						              #{bundle.button_label_view_mentor}<br/>
						          </span>
						     </rich:toolTip>	
						</a4j:commandLink>			             
		             </rich:column>		
		             		             	             		             		             
		             		                      	   
			      </rich:dataTable>		
		        <rich:datascroller id="idDataScroller3" align="center"  for="idDataGrid3" maxPages="5" />
			</h:panelGrid>			         
		</rich:panel>
				
		<rich:panel headerClass="container_box_panel_header"  bodyClass="container_body_style" >
			<f:facet name="header"><h:outputText value="Guest log"/> </f:facet>
			<h:panelGrid columns="1" width="100%" cellpadding="0" cellspacing="0" border="0">
				<rich:dataTable width="100%" id="idDataGridOldLog" styleClass="listcontainer"  
          rowClasses=",container_even_row_style" rows="10"  columnsWidth="120,"
			    value="#{protegeProfileViewHandler.protegeLogs}" var="log" 
          headerClass="table_column_style" cellpadding="0" cellspacing="0" columnClasses="fixedlayout">
		             <rich:column>
			             <f:facet name="header">
			               <h:outputText value="#{bundle.activity_date_time}"/>
			             </f:facet>
				 			<h:outputText  value="#{log.memberLogDateTime}" >
				 			<f:convertDateTime dateStyle="default" pattern="#{bundle.long_date_pattern}"/>
				 			</h:outputText>
		             </rich:column>		             
		             <rich:column>
			             <f:facet name="header">
			               <h:outputText value="Sent By"/>
			             </f:facet>
				 			<h:outputText value="#{log.fromMember.firstName} #{log.fromMember.lastName}" />
		             </rich:column>
		             <rich:column>
			             <f:facet name="header">
			               <h:outputText value="Sent To"/>
			             </f:facet>
				 			<h:outputText value="#{log.toMember.firstName} #{log.toMember.lastName}" />
		             </rich:column>	
		             <rich:column>
			             <f:facet name="header">
			               <h:outputText value="#{bundle.activity_subject}"/>
			             </f:facet>
				 			<h:outputText  value="#{log.topic}" />
		             </rich:column>	  
		             <rich:column>
			             <f:facet name="header">
			               <h:outputText value="#{bundle.activity_type}"/>
			             </f:facet>
				 			<h:outputText value="#{log.userDefinedValues.udValuesValue}" />
		             </rich:column>	
		             <rich:column >
			             <f:facet name="header">
			               <h:outputText value="#{bundle.activity_log_body}"/>
			             </f:facet>
				 			<h:outputText escape="false" value="#{log.memberLogEntryDescription}" />
		             </rich:column>	           	   
			      </rich:dataTable>		
		        <rich:datascroller id="idDataScrollerOldLog" align="center"  for="idDataGridOldLog" maxPages="5" />
			</h:panelGrid>			         
		</rich:panel> 				
    </h:panelGroup>    
  </ui:define>
  
  <ui:define name="modalPanels">
    <a4j:region>
      <ui:include src="../modals/memberInfoDialog.xhtml"></ui:include>
    </a4j:region>
  </ui:define>
</ui:composition>
</html>