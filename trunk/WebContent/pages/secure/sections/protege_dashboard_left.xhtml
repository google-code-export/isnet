<html xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:a4j="http://richfaces.org/a4j"
   xmlns:rich="http://richfaces.org/rich">
<ui:composition>
	<h:panelGrid columns="1" width="100%" cellpadding="0" cellspacing="0">
		<h:panelGroup>
			<div id="idLeftSide" style="border:0;">
  				<div id="sidebar" >
					<ui:include src="/templates/include/protegeMenu.xhtml" />       
  				</div>
			</div>
		</h:panelGroup>
		
		<!-- Top ten stories -->
		<rich:panel style="width:'auto';margin-top: 3px;" headerClass="container_gold_header"  bodyClass="container_body_style" >
			<f:facet name="header"><h:outputText value="#{bundle.dashboard_protege_top_ten_stories}" /></f:facet>
			<h:dataTable value="#{dashboardViewHandler.topTenStories}" var="story">
				<h:column>
         		 <a4j:commandLink styleClass="container_link_style" value="#{story.storyTitle}" action="#{storyViewHandler.initializeDialog}"  reRender="idStoryDialog"  oncomplete="Richfaces.showModalPanel('idStoryDialog')">
		             <a4j:actionparam name="storyId" value="#{story.memberStoryId}"  />
		             <a4j:actionparam name="action" value="VIEW"  />
            		 <rich:toolTip styleClass="tooltips_style"  >
				          <span class="tooltips_span_style">
				              View Story Details<br/>
				          </span>
				     </rich:toolTip>	
				</a4j:commandLink>
				</h:column>
			</h:dataTable>			
		</rich:panel>
		
		<!-- Winning stories -->
		<rich:panel style="width:'auto';margin-top: 3px;" headerClass="container_gold_header"  bodyClass="container_body_style" >
		  <f:facet name="header"><h:outputText value="#{bundle.dashboard_mentor_winning_story}" /></f:facet>
			<p><h:outputText value="#{dashboardViewHandler.storyWinner}" /></p>
			<p><h:outputText value="#{dashboardViewHandler.winningStoryPreview}" /></p>
			
			<a4j:commandLink styleClass="container_link_style" value="Show full story..." action="#{storyViewHandler.initializeDialog}"  
		        reRender="idStoryDialog"  oncomplete="Richfaces.showModalPanel('idStoryDialog')">
		       <a4j:actionparam name="storyId" value="#{dashboardViewHandler.winningStoryId}"  />
		       <a4j:actionparam name="action" value="VIEW"/>
		       <rich:toolTip styleClass="tooltips_style">
		          <span class="tooltips_span_style">
		            View wining story details<br/>
		          </span>
		        </rich:toolTip>  
	      	</a4j:commandLink>
		</rich:panel>
		
		<!-- Winning viewpoint -->
		<rich:panel style="width:'auto';margin-top: 3px;" headerClass="container_gold_header"  bodyClass="container_body_style" >
		  <f:facet name="header"><h:outputText value="Winning viewpoint" /></f:facet>
			<p><h:outputText value="#{dashboardViewHandler.viewPointWinner}" /></p>
			<p><h:outputText value="#{dashboardViewHandler.winningViewPointPreview}" /></p>
			<a4j:commandLink styleClass="container_link_style" value="Show full viewPoint..." action="#{storyViewHandler.initializeDialog}"  
		        reRender="idStoryDialog"  oncomplete="Richfaces.showModalPanel('idStoryDialog')">
		       <a4j:actionparam name="storyId" value="#{dashboardViewHandler.winningViewPointId}"  />
		       <a4j:actionparam name="action" value="VIEW"/>
		       <rich:toolTip styleClass="tooltips_style">
		          <span class="tooltips_span_style">
		            View wining viewpoint details<br/>
		          </span>
		        </rich:toolTip>  
	      	</a4j:commandLink>
		</rich:panel>	
		
		<!-- Mentor success stories -->
		<rich:panel style="width:'auto';margin-top: 3px;" headerClass="container_gold_header"  bodyClass="container_body_style" >
			<f:facet name="header"><h:outputText value="#{bundle.dashboard_protege_success_viewpoints}" /></f:facet>
			<h:dataTable value="#{dashboardViewHandler.topTenStories}" var="story">
				<h:column>
         		 <a4j:commandLink styleClass="container_link_style" value="#{story.storyTitle}" action="#{storyViewHandler.initializeDialog}"  reRender="idStoryDialog"  oncomplete="Richfaces.showModalPanel('idStoryDialog')">
		             <a4j:actionparam name="storyId" value="#{story.memberStoryId}"  />
		             <a4j:actionparam name="action" value="VIEW"  />
            		 <rich:toolTip styleClass="tooltips_style"  >
				          <span class="tooltips_span_style">
				              View Story Details<br/>
				          </span>
				     </rich:toolTip>	
				</a4j:commandLink>					
				</h:column>
			</h:dataTable>	
         <h:outputLink style="font-weight:bolder; font-size: 14px;"  value="#{controllerBean.contextPath}/pages/secure/protegeStoryVote.faces">
            <a4j:actionparam name="STORY_TYPE" value="PROTEGE"  />
           <h:outputText value=" Browse more stories... "/>
         </h:outputLink>				
		</rich:panel>		
				
	</h:panelGrid>
</ui:composition>
</html>