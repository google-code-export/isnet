<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">
<ui:composition>
	<h:panelGrid columns="1" width="100%" border="0" cellpadding="0"
		cellspacing="0">
		
		<rich:panel style="width:'auto';margin-top: 0px;" rendered="#{!dashboardViewHandler.showReportDetails}"
			headerClass="container_gold_header" bodyClass="container_body_style">
			<f:facet name="header">
				<h:outputText value="#{bundle.dashboard_mentor_new_mentor_request}" />
			</f:facet>
			<h:dataTable id="idRequestGrid1" border="0"
				value="#{dashboardViewHandler.protegePendingMentorRequests}" var="log"
				columnClasses="column_class_center,,,column_class_right"
				cellpadding="0" cellspacing="0" width="100%">
				<h:column>

         		 <a4j:commandLink  value="#{log.fromMember.firstName}  #{log.fromMember.lastName}"  reRender="idmemberInfoDialog" action="#{protegeProfileViewHandler.loadMember}" oncomplete="Richfaces.showModalPanel('idmemberInfoDialog')">
		             <a4j:actionparam name="MEMBER_ID" value="#{log.fromMember.memberId}"  />
		             <a4j:actionparam name="action" value="VIEW"  />
            		 <rich:toolTip styleClass="tooltips_style"  >
				          <span class="tooltips_span_style">
				             View Profile<br/>
				          </span>
				     </rich:toolTip>
				</a4j:commandLink>							
				</h:column>
				<h:column>
					<h:outputText value="sent a " />
				</h:column>
				<h:column>
					<a4j:commandLink value="#{log.topic}"  reRender="idmemberLogViewDialog" action="#{memberLogViewHandler.initMemberLogViewDialog}" oncomplete="Richfaces.showModalPanel('idmemberLogViewDialog')">
					    <a4j:actionparam name="LOG_ID" value="#{log.memberLogId}"  />
					</a4j:commandLink>
				</h:column>	
				<h:column>
					<a4j:commandButton oncomplete="Richfaces.showModalPanel('idRequestNoteDialog')"
						value="#{bundle.button_label_accept}">
						<a4j:actionparam name="logId"  value="#{log.memberLogId}" assignTo="#{dashboardViewHandler.logId}" />
						<a4j:actionparam name="act"  value="1" assignTo="#{dashboardViewHandler.action}" />
					</a4j:commandButton>
					<rich:spacer width="3" />
					<h:outputText value="#{bundle.or_label}" />
					<rich:spacer width="5" />
					<a4j:commandButton value="#{bundle.button_label_deny}" oncomplete="Richfaces.showModalPanel('idRequestNoteDialog')" >
						<a4j:actionparam name="logId"  value="#{log.memberLogId}" assignTo="#{dashboardViewHandler.logId}" />
						<a4j:actionparam name="act"  value="2" assignTo="#{dashboardViewHandler.action}" />
					</a4j:commandButton>
				</h:column>
			</h:dataTable>
		</rich:panel>

		<rich:panel style="width:'auto';margin-top: 0px;"	headerClass="container_gold_header" bodyClass="container_body_style">
			<f:facet name="header">
				<h:outputText value="Pending activities" />
			</f:facet>
			<h:dataTable id="idRequestGrid2" border="0"
				value="#{dashboardViewHandler.protegePendingActivity}" var="log"
				columnClasses="column_class_center,,,column_class_right"
				cellpadding="0" cellspacing="0" width="100%">
				<h:column>
         		 <a4j:commandLink  value="#{log.fromMember.firstName}  #{log.fromMember.lastName}"  reRender="idmemberInfoDialog" action="#{protegeProfileViewHandler.loadMember}" oncomplete="Richfaces.showModalPanel('idmemberInfoDialog')">
		             <a4j:actionparam name="MEMBER_ID" value="#{log.fromMember.memberId}"  />
		             <a4j:actionparam name="action" value="VIEW"  />
            		 <rich:toolTip styleClass="tooltips_style"  >
				          <span class="tooltips_span_style">
				             View Profile<br/>
				          </span>
				     </rich:toolTip>
				</a4j:commandLink>	
				</h:column>
				<h:column>
					<h:outputText value="sent a " />
				</h:column>
				<h:column>
					<a4j:commandLink value="#{log.topic}"  reRender="idmemberLogViewDialog" action="#{memberLogViewHandler.initMemberLogViewDialog}" oncomplete="Richfaces.showModalPanel('idmemberLogViewDialog')">
					    <a4j:actionparam name="LOG_ID" value="#{log.memberLogId}"  />
					</a4j:commandLink>
				</h:column>					
				<h:column>
					<a4j:commandButton oncomplete="Richfaces.showModalPanel('idRequestNoteDialog')"
						value="#{bundle.button_label_confirm}">
						<a4j:actionparam name="logId"  value="#{log.memberLogId}" assignTo="#{dashboardViewHandler.logId}" />
						<a4j:actionparam name="act"  value="1" assignTo="#{dashboardViewHandler.action}" />
					</a4j:commandButton>
					<rich:spacer width="3" />
					<h:outputText value="#{bundle.or_label}" />
					<rich:spacer width="5" />
					<a4j:commandButton value="#{bundle.button_label_deny}" oncomplete="Richfaces.showModalPanel('idRequestNoteDialog')" >
						<a4j:actionparam name="logId"  value="#{log.memberLogId}" assignTo="#{dashboardViewHandler.logId}" />
						<a4j:actionparam name="act"  value="2" assignTo="#{dashboardViewHandler.action}" />
					</a4j:commandButton>
				</h:column>
			</h:dataTable>
		</rich:panel>
		
		<rich:panel style="width:'auto';margin-top: 0px;" rendered="#{dashboardViewHandler.showReportDetails}"
			headerClass="container_gold_header" bodyClass="container_body_style">
			<f:facet name="header">
				<h:outputText value="Mentor hierarchy" />
			</f:facet>
			<rich:dataTable
				rowClasses="dashboard_report_row_odd,dashboard_report_row_even"
				cellpadding="0" cellspacing="0" width="100%" border="0" var="report"
				value="#{dashboardViewHandler.mentorReport}">
				<f:facet name="header">
					<rich:columnGroup>
						<rich:column styleClass="dashboard_report_mentor_header">
							<h:outputText value="#{bundle.member_first_name}" />
						</rich:column>
						<rich:column styleClass="dashboard_report_mentor_header">
							<h:outputText value="#{bundle.member_last_name}" />
						</rich:column>
						<rich:column styleClass="dashboard_report_mentor_header">
							<h:outputText value="#{bundle.member_certification}" />
						</rich:column>
						<rich:column styleClass="dashboard_report_mentor_header">
							<h:outputText value="#{bundle.dashboard_mentor_last_activity}" />
						</rich:column>
						<rich:column styleClass="dashboard_report_mentor_header">
							<h:outputText value="Action" />
						</rich:column>
					</rich:columnGroup>
				</f:facet>
				<h:column>
					<h:outputText value="#{report.mentor.firstName}" />
				</h:column>
				<h:column>
					<h:outputText value="#{report.mentor.lastName}" />
				</h:column>
				<h:column>
					<h:outputText value="#{report.mentor.certificationDate}">
						<f:convertDateTime dateStyle="default" pattern="#{bundle.short_date_pattern}" />
					</h:outputText>
				</h:column>
				<h:column>
					<h:outputText value="#{report.mentor.lastActivity}">
						<f:convertDateTime dateStyle="default" pattern="#{bundle.short_date_pattern}" />
					</h:outputText>
				</h:column>
				<h:column>
     		 <a4j:commandLink value="View Profile" reRender="idmemberInfoDialog" action="#{protegeProfileViewHandler.loadMember}" oncomplete="Richfaces.showModalPanel('idmemberInfoDialog')">
             <a4j:actionparam name="MEMBER_ID" value="#{report.mentor.memberId}"  />
             <a4j:actionparam name="action" value="VIEW"  />
        		 <rich:toolTip styleClass="tooltips_style"  >
              <span class="tooltips_span_style">
                  View profile<br/>
              </span>
            </rich:toolTip>	
         </a4j:commandLink>
				 <rich:spacer width="12"/>						
     		 <a4j:commandLink  reRender="idmemberLogDialog" action="#{memberLogViewHandler.initMemberLogForContact}" oncomplete="Richfaces.showModalPanel('idmemberLogDialog')">
              <a4j:actionparam name="MEMBER_ID" value="#{report.mentor.memberId}"  />
              <a4j:actionparam name="MEMBER_NAME" value="#{report.mentor.firstName} #{report.mentor.lastName} "  />
        		 <rich:toolTip styleClass="tooltips_style"  >
		            <span class="tooltips_span_style">
		              Click here for new message<br/>
		            </span>
		          </rich:toolTip>	
		        <h:outputText value="New Message" border="0" />		
		     </a4j:commandLink>										
										
				</h:column>
				<rich:subTable rowClasses="odd-row,even-row" var="protege" 
					value="#{report.proteges}">
					<rich:column rowspan="1">
						<f:facet name="header">
							<rich:spacer />
						</f:facet>
						<h:outputText value=""></h:outputText>
					</rich:column>
					<rich:column style="text-align:left;">
						<f:facet name="header">
							<h:outputText value="First name" />
						</f:facet>
						<h:outputText value="#{protege.firstName}"></h:outputText>
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="Last name" />
						</f:facet>
						<h:outputText value="#{protege.lastName}"></h:outputText>
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="Last activity date" />
						</f:facet>
						<h:outputText value="#{protege.lastActivity}">
							<f:convertDateTime dateStyle="default" pattern="#{bundle.short_date_pattern}" />
						</h:outputText>
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="Action" />
						</f:facet>
		         		 <a4j:commandLink value="View Profile" reRender="idmemberInfoDialog" action="#{protegeProfileViewHandler.loadMember}" oncomplete="Richfaces.showModalPanel('idmemberInfoDialog')">
				             <a4j:actionparam name="MEMBER_ID" value="#{protege.memberId}"  />
				             <a4j:actionparam name="action" value="VIEW"  />
		            		 <rich:toolTip styleClass="tooltips_style"  >
						          <span class="tooltips_span_style">
						              View profile<br/>
						          </span>
						     </rich:toolTip>	
						</a4j:commandLink>
						<rich:spacer width="12"/>						
		         		 <a4j:commandLink  reRender="idmemberLogDialog" action="#{memberLogViewHandler.initMemberLogForContact}" oncomplete="Richfaces.showModalPanel('idmemberLogDialog')">
				              <a4j:actionparam name="MEMBER_ID" value="#{protege.memberId}"  />
				              <a4j:actionparam name="MEMBER_NAME" value="#{protege.firstName} #{protege.lastName} "  />
		            		 <rich:toolTip styleClass="tooltips_style"  >
						          <span class="tooltips_span_style">
						            Click here for new message<br/>
						          </span>
						     </rich:toolTip>	
						        <h:outputText value="New Message" border="0" />		
						</a4j:commandLink>						
												
					</rich:column>

				</rich:subTable>

			</rich:dataTable>

		</rich:panel>
		

		<rich:panel id="idMentorAroundMePanel" rendered="#{!dashboardViewHandler.showReportDetails}" headerClass="container_box_panel_header"  bodyClass="container_body_style" >
			<f:facet name="header">
			<h:panelGroup>
				<h:outputText value="List of Mentors in 20 miles radius" /> 
			</h:panelGroup>
			</f:facet>
			<h:panelGrid columns="1" width="100%" cellpadding="0" cellspacing="0" border="0">
				<rich:dataTable  width="100%" id="idDataGrid3"  rowClasses=",container_even_row_style" rows="10" 
			                value="#{protegeProfileViewHandler.mentorsAraoundProtege}" var="member" headerClass="table_column_style" cellpadding="0" cellspacing="0">
		             <rich:column>
			             <f:facet name="header">
			                <h:outputText value="#{bundle.protege_search_name}" />
			             </f:facet>
			             <h:panelGroup>
			             	<h:outputText value="#{member.firstName}" /><rich:spacer width="5"/> <h:outputText value="#{member.lastName}" />
			             </h:panelGroup>
				 			
		             </rich:column>
		             <rich:column>
			             <f:facet name="header">
			                 <h:outputText value="#{bundle.member_city}" />
			             </f:facet>
						<h:outputText value="#{member.city}" />
		             </rich:column>	  
		             <rich:column>
			             <f:facet name="header">
			                <h:outputText value="#{bundle.member_state}" />
			             </f:facet>
						<h:outputText value="#{member.stateUDV.udValuesDesc}" />
		             </rich:column>
		             <rich:column >
			             <f:facet name="header">
			               <h:outputText value="#{bundle.member_zip}" />
			             </f:facet>
				 		<h:outputText value="#{member.zip}" />	
		             </rich:column>	  
		             <rich:column>
			             <f:facet name="header">
			               <h:outputText value="#{bundle.member_country}" />
			             </f:facet>
						<h:outputText value="#{member.countryUDV.udValuesDesc}" />
		             </rich:column>	
		             <rich:column>
			             <f:facet name="header">
			               <h:outputText value="Action" />
			             </f:facet>
		         		 <a4j:commandLink  reRender="idmemberInfoDialog" action="#{protegeProfileViewHandler.loadMember}" oncomplete="Richfaces.showModalPanel('idmemberInfoDialog')">
				             <a4j:actionparam name="MEMBER_ID" value="#{member.memberId}"  />
				             <a4j:actionparam name="action" value="VIEW"  />
			            	<h:graphicImage value="/images/member_view.png" align="middle" border="0" > 
			            	</h:graphicImage>	
		            		 <rich:toolTip styleClass="tooltips_style"  >
						          <span class="tooltips_span_style">
						              #{bundle.button_label_view_mentor}<br/>
						          </span>
						     </rich:toolTip>	
						</a4j:commandLink>
						<rich:spacer width="12"/>			             
							<a4j:commandLink value="#{bundle.button_label_send_request}"  reRender="idmemberLogDialog" action="#{memberLogViewHandler.initMemberLogForProtegeRequest}" oncomplete="Richfaces.showModalPanel('idmemberLogDialog')">
				             <a4j:actionparam name="MEMBER_ID" value="#{member.memberId}"  />
				              <a4j:actionparam name="MEMBER_NAME" value="#{member.firstName} #{member.lastName} "  />
		            		 <rich:toolTip styleClass="tooltips_style"  >
						          <span class="tooltips_span_style">
						              #{bundle.button_tooltips_send_request}<br/>
						          </span>
						     </rich:toolTip>	
						</a4j:commandLink>
						
		             </rich:column>		
		             		             	             		             		             
		             		                      	   
			      </rich:dataTable>		
		        <rich:datascroller id="idDataScroller3" align="center"  for="idDataGrid3" maxPages="5" />
			</h:panelGrid>			         
		</rich:panel>
						
		
				
	</h:panelGrid>

</ui:composition>
</html>