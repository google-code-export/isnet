<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- 
 * @author Mithun 2009/08/07 Created.
 * @version $Revision: 1.0
-->
<html xmlns="http://www.w3.org/1999/xhtml"
	 xmlns:ui="http://java.sun.com/jsf/facelets"
	 xmlns:h="http://java.sun.com/jsf/html"
	 xmlns:f="http://java.sun.com/jsf/core"
	 xmlns:a4j="http://richfaces.org/a4j"
   xmlns:rowBar="http://www.myc2i.com/jsf/rowToolBar"
   xmlns:ccmp="http://www.myc2i.com/jsf/commoncmp"
 	 xmlns:c="http://java.sun.com/jstl/core"
 	 xmlns:rich="http://richfaces.org/rich">

<ui:composition template="/templates/maintmpl.xhtml">
 <ui:param name="moduleTitle" value="#{bundle.top_navigation_mp_relation_management} >> #{bundle.left_chapter_proteges_without_mentor}"></ui:param>
 <ui:param name="userType" value="A"></ui:param>
 <ui:param name="moduleType" value="RM"></ui:param>
 <ui:param name="headerText" value="#{bundle.protege_manage_protege}"></ui:param>
	<ui:param name="refManageBean" value="#{protegeViewHandler}"></ui:param>
 <ui:define name="commonInfo">
	</ui:define>
	<ui:define name="js">
		<script></script>
	</ui:define>
  <ui:define name="body">    
    <h:panelGroup id="idSectionsCon">
      <rich:spacer width="100%" height="10"/>
      <h:panelGroup id="idTopCon">
        <c:set var="searchBean" value="#{protegeViewHandler.searchBean}"></c:set>
        <h:panelGrid columns="2" id="idSearchCon" border="0" columnClasses="prompt,data"
          rowClasses="rowinput" width="100%">
          
          <h:outputText value="#{bundle.member_email_address}"/>
          <h:inputText id="idEmail" styleClass="medium_text" value="#{searchBean.email}"/>
          
          <h:outputText value="#{bundle.member_first_name}"/>
          <h:inputText id="ifFirstName" styleClass="medium_text" value="#{searchBean.firstName}"/>
          
          <h:outputText value="#{bundle.member_last_name}"/>
          <h:inputText id="idLastName" styleClass="medium_text" value="#{searchBean.lastName}"/>
          
          <h:outputText value="#{bundle.member_state}"/>
          <h:selectOneMenu id="idState" value="#{searchBean.state}" styleClass="form_input_text_medium"> 
            <f:selectItems value="#{protegeViewHandler.statesList}"/>             
          </h:selectOneMenu>
          
          <h:outputText value="#{bundle.member_city}"/>
          <h:inputText id="idCity" styleClass="name" value="#{searchBean.city}"/>       
          
          <h:outputText  value=""/>
          <h:panelGroup>
            <h:selectBooleanCheckbox id="idShowAll" title="Show all protege" 
              value="#{searchBean.extraProps}" />
            <rich:spacer width="5"></rich:spacer>
            <h:outputText  value="#{bundle.show_all_protege}"/>
          </h:panelGroup>
          
          <h:outputText value=""/>
          <a4j:commandButton value="#{bundle.protege_search}" styleClass="ibutton" style="background:#F8F3D3;"
            action="#{protegeViewHandler.loadProtegesByCriteria}" reRender="PROTEGE_LINES"
            onclick="forceBlockUI(ajaxProcessMsg);" oncomplete="forceUnblockUI();"/>
              
        </h:panelGrid>
      </h:panelGroup>
      
      <rich:spacer width="100%" height="20"/>
      <h:panelGroup id="PROTEGE_LINES">
        <rich:dataTable styleClass="listcontainer" headerClass="listheader" rowClasses="odd-row,even-row"
          id="idProtegesLines" value="#{protegeViewHandler.protegeLines}" var="protege"
          rows="7" cellpadding="0" cellspacing="0">
          <f:facet name="header">
            <rich:columnGroup>
              <rich:column width="70px" style="text-align:left;" valign="top">
                <h:outputText value="#{bundle.member_first_name}" />
              </rich:column>
              <rich:column width="70px" style="text-align:left;" valign="top">
                <h:outputText value="#{bundle.member_last_name}" />
              </rich:column>
              <rich:column width="75px" style="text-align:left;" valign="top">
                <h:outputText value="#{bundle.member_address}" />
              </rich:column>
              <rich:column width="45px" style="text-align:left;" valign="top">
                <h:outputText value="#{bundle.member_city}" />
              </rich:column>              
              <rich:column width="45px" style="text-align:left;" valign="top">
                <h:outputText value="#{bundle.member_zip}" />
              </rich:column>
              <rich:column width="35px" style="text-align:left;" valign="top">
                <h:outputText value="#{bundle.member_phone}" />
              </rich:column>              
              <rich:column width="50px" style="text-align:center;" valign="top">
                <h:outputText value="#{bundle.common_action}" />
              </rich:column>
          </rich:columnGroup>
          </f:facet>
         <rich:column>
          <h:outputText value="#{protege.firstName}" />
         </rich:column>
         <rich:column>
           <h:outputText value="#{protege.lastName}" />
         </rich:column>
         <rich:column>
           <h:outputText value="#{protege.streetAddress}" />
         </rich:column>
         <rich:column>
           <h:outputText value="#{protege.city}" />
         </rich:column>         
         <rich:column>
           <h:outputText value="#{protege.zip}" />
         </rich:column>
         <rich:column style="text-align:center;vertical-align:middle;">
           <h:outputText value="#{protege.homePhoneNumber}" />
         </rich:column>         
         <rich:column style="text-align:center;vertical-align:middle;">
           <a4j:commandButton value="#{bundle.protege_assign_mentor}"
            onclick="forceSBlockUI(ajaxProcessMsg);" action="#{protegeViewHandler.preAssignedMentor}" 
            reRender="idErrorPanel,idAssignProtegeHeader,idAssignProtegeErrPan,idAssignProtegeCtrl,idAssignProtegeContainer"             
            oncomplete="forceSUnblockUI();Common.openModalPanel('idAssignProtege');">
            <f:param name="recordId" value="#{protege.memberId}"/>
           </a4j:commandButton> 
         </rich:column>
        </rich:dataTable>
        <rich:datascroller id="idDataScroller" align="center"  for="idProtegesLines" maxPages="7" />
        
        <rich:jQuery selector="#idProtegesLines tr" query="mouseover(function(){jQuery(this).addClass('active-row')})"/>
        <rich:jQuery selector="#idProtegesLines tr" query="mouseout(function(){jQuery(this).removeClass('active-row')})"/>  
      </h:panelGroup>
    </h:panelGroup>    
  </ui:define>
  <ui:define name="modalPanels">
    <a4j:region>
      <ui:include src="/templates/modaltmpl.xhtml">
        <ui:param name="modalPanelId" value="idAssignProtege"/>
        <ui:param name="moduleName" value="assignMentorToProtege"/>
      </ui:include>
    </a4j:region>
  </ui:define>
</ui:composition>
</html>