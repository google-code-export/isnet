<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	 xmlns:ui="http://java.sun.com/jsf/facelets"
	 xmlns:h="http://java.sun.com/jsf/html"
	 xmlns:f="http://java.sun.com/jsf/core"
	 xmlns:a4j="http://richfaces.org/a4j"
 	 xmlns:c="http://java.sun.com/jstl/core"
 	 xmlns:rich="http://richfaces.org/rich">

<ui:composition template="/templates/maintmpl.xhtml">
 <ui:param name="moduleTitle" value="Protege Tutorial"></ui:param>
 <ui:param name="userType" value="M"></ui:param>
 <ui:param name="moduleType" value="MH"></ui:param>
 <ui:param name="refManageBean" value="#{udvViewHandler}"></ui:param>
 <ui:param name="headerText" value="Da'wah Certification"></ui:param>
   <ui:param name="help_doc" value="#{controllerBean.contextPath}/online_help/member_tutorial_help.htm"></ui:param>
 
  <ui:define name="js">
  		
	<script type="text/javascript" > 
	 function showTutorial(URL) {	    
	    var w=800
	    var h=650
	    var leftVal = (screen.width - 800) / 2;
      var topVal = (screen.height - 650) / 2;
	    if (window.screen) {
	      w = window.screen.availWidth;
	      h = window.screen.availHeight; 
	      leftVal = (screen.width - w) / 2;
	      topVal = (screen.height - h) / 2;
	    }
	    var args = "width="+w+",height="+h+",resizable=yes,scrollbars=yes,left="+leftVal+",top="+topVal+"";
	    window.open(URL,'WinName',args);
	  }
	</script>
  		 
 </ui:define> 
  <ui:define name="body">    
    <h:panelGroup id="idSectionsCon">
      <rich:spacer width="100%" height="5"/>
      <h:panelGroup id="idTopCon">
          <table border="0" cellspacing="0" cellpadding="0" width="98%">
           <tr>
            <td align="right">
			
            </td>
           </tr>
          </table>
          
      </h:panelGroup>
      
    <rich:spacer width="100%" height="10"/>
    	<rich:panel rendered="#{tutorialViewHandler.completedMentorTutorial}" headerClass="container_box_panel_header"  bodyClass="container_body_style">
    	<f:facet name="header"><h:outputText value="Congratulation" /> </f:facet>

    	<h:panelGrid columns="1" width="100%" >

    	<h:outputText value="You have completed all of the tutorial modules, Now click on the button below to navigate into the subscription page." />
    	<!-- 
    	<h:outputText value="Once you have paid the subscription amount, you can search for the lead mentor to confirm your certification. " />
    	<h:outputText value="The lead mentor will also arrange an interview before the certification confirmation." />
    	 -->
    	<h:commandButton id="idNavigate"  action="#{tutorialViewHandler.navigateToPayment}" value="Navigate Payment Page" >
          </h:commandButton>
    	</h:panelGrid>
    	</rich:panel>
    	
		<rich:panel rendered="#{! tutorialViewHandler.completedMentorTutorial}" headerClass="container_box_panel_header"  bodyClass="container_body_style" >
			<f:facet name="header"><h:outputText value="Tutorial Modules" /> </f:facet>
   
			<h:panelGrid  columns="1" width="100%" cellpadding="0" cellspacing="0" border="0">
			
			<h:dataTable value="#{modulesViewHandler.modules}" var="module">
           <rich:column>
           	<h:panelGroup>
           	
	       		 <a4j:commandLink  rendered="#{ module.testStatus}" onclick="showTutorial('${controllerBean.contextPath}/pages/secure/tutorialModulePlayer.faces?moduleId=${module.modulesId}')">
		             <a4j:actionparam name="moduleId" value="#{module.modulesId}"/>
		             <a4j:actionparam name="load" value="1"/>
	            	<h:graphicImage value="/images/play_tutorial.png" align="middle" border="0" > 
	            	</h:graphicImage>	
            		 <rich:toolTip styleClass="tooltips_style"  >
				          <span class="tooltips_span_style">
				              #{bundle.member_tutorial_play}<br/>
				          </span>
				        </rich:toolTip>	
				     </a4j:commandLink>	 
				     
				    <a4j:commandLink rendered="#{ ! module.testStatus}">
	            	<h:graphicImage value="/images/tutorial_disable_play.png" align="middle" border="0" > 
	            	</h:graphicImage>	
            		 <rich:toolTip styleClass="tooltips_style"  >
				          <span class="tooltips_span_style">
				             Please complete the previous tutorial first<br/>
				          </span>
				        </rich:toolTip>	
				     </a4j:commandLink>	
           	</h:panelGroup>
											             
            </rich:column>		             
		        <rich:column>
				 			<h:outputText value="#{module.moduleName}" />
		             </rich:column>
		             <rich:column>
				 			<h:outputText value="::" />
		             </rich:column>		             
		             <rich:column>
				 			<h:outputText  rendered="#{module.finished}" value="#{module.moduleTitle} [Finished]" />
				 			<h:outputText  rendered="#{ !module.finished}" value="#{module.moduleTitle} [Pending]" />
		        	  </rich:column>	             
				</h:dataTable>
				
			</h:panelGrid>			 	        
		</rich:panel>
	    

    </h:panelGroup>    
  </ui:define>
  
  <ui:define name="modalPanels">
   
  </ui:define>
</ui:composition>
</html>