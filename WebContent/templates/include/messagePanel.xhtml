<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:a4j="http://richfaces.org/a4j"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:rich="http://richfaces.org/rich"> 
<ui:composition>  
  <h:panelGroup id="idErrorPanel">
  <c:set var="errMsg" value="${refManageBean.errorMessage}"></c:set>
  <rich:panel styleClass="error_panel" rendered="${errMsg ne ''}" >
    <f:facet name="header">
      <h:panelGroup id = "idMessageHeader">
      <h:panelGrid columns="2" border="0" id="idErrorHead" columnClasses="errorhead_icon,errorhead_text"
        rendered="${refManageBean.msgType ne 'INFO'}">
        <a4j:commandLink  action="${refManageBean.hideErrorPanel}" reRender="idErrorPanel" styleClass="menu_item_clink">
          <h:panelGroup>
            <h:graphicImage value="#{controllerBean.imagesPath}/cross.png" styleClass="sec_toolbar_icon" title="Close"/>
          </h:panelGroup>
        </a4j:commandLink> 
        <h:outputText value="Error Panel"/>        
      </h:panelGrid>
      
      <h:panelGrid columns="2" border="0" id="idinfoHead" columnClasses="infohead_icon,infohead_text"
        rendered="${refManageBean.msgType eq 'INFO'}">
        <a4j:commandLink  action="${refManageBean.hideErrorPanel}" reRender="idErrorPanel" styleClass="menu_item_clink">
          <h:panelGroup>
            <h:graphicImage value="#{controllerBean.imagesPath}/cross.png" styleClass="sec_toolbar_icon" title="Close"/>
          </h:panelGroup>
        </a4j:commandLink>
        <h:outputText value="Message Panel"/>        
      </h:panelGrid>
      </h:panelGroup>
    </f:facet>
    <h:panelGrid columns="2" id="idErrorMsg" columnClasses="errormsg_icon,errormsg_text"
      rendered="${refManageBean.msgType ne 'INFO'}">
      <h:graphicImage value="${controllerBean.imagesPath}/critical.png" styleClass="sec_toolbar_icon"/>
      <h:outputText escape="false" value="${errMsg}"/>
    </h:panelGrid>
    
    <h:panelGrid columns="2" id="idinfoMsg" columnClasses="infomsg_icon,infomsg_text"
      rendered="${refManageBean.msgType eq 'INFO'}">
      <h:graphicImage value="${controllerBean.imagesPath}/passed.gif" styleClass="sec_toolbar_icon"/>
      <h:outputText escape="false" value="${errMsg}"/>
    </h:panelGrid>
  </rich:panel>
</h:panelGroup>
</ui:composition>
</html>